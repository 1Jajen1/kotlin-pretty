<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.62.0"><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link rel=alternate type=application/rss+xml href=https://1jajen1.github.io/kotlin-pretty/docs/api-reference/index.xml><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/kotlin-pretty/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/kotlin-pretty/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/kotlin-pretty/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/kotlin-pretty/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/kotlin-pretty/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/kotlin-pretty/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/kotlin-pretty/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/kotlin-pretty/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/kotlin-pretty/favicons/android-192x192.png sizes=192x192><title>Api reference | Kotlin pretty - A prettyprinter library for kotlin</title><meta property="og:title" content="Api reference"><meta property="og:description" content="A comprehensive reference of all methods that kotlin-pretty provides."><meta property="og:type" content="website"><meta property="og:url" content="https://1jajen1.github.io/kotlin-pretty/docs/api-reference/"><meta property="og:updated_time" content="2020-01-14T00:00:00+00:00"><meta property="og:site_name" content="Kotlin pretty - A prettyprinter library for kotlin"><meta itemprop=name content="Api reference"><meta itemprop=description content="A comprehensive reference of all methods that kotlin-pretty provides."><meta name=twitter:card content="summary"><meta name=twitter:title content="Api reference"><meta name=twitter:description content="A comprehensive reference of all methods that kotlin-pretty provides."><link rel=preload href=/kotlin-pretty/scss/main.min.fa767430755364e8f49e24a61b82e97248c9e4b5171e1fb01c1af2ff0d3559da.css as=style><link href=/kotlin-pretty/scss/main.min.fa767430755364e8f49e24a61b82e97248c9e4b5171e1fb01c1af2ff0d3559da.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.3.1.min.js integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin=anonymous></script><title>Api reference | Kotlin pretty - A prettyprinter library for kotlin</title></head><body class=td-section><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/kotlin-pretty/><span class=navbar-logo></span><span class="text-uppercase font-weight-bold">Kotlin pretty - A prettyprinter library for kotlin</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=https://github.com/1Jajen1/kotlin-pretty target=_blank><span>GitHub</span></a></li></ul></div><div class="navbar-nav d-none d-lg-block"></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav pt-2 pl-4" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/kotlin-pretty/docs/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Documentation</a></li><ul><li class="collapse show" id=kotlin-pretty-docs><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/kotlin-pretty/docs/getting-started/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Getting started</a></li><ul><li class=collapse id=kotlin-pretty-docs-getting-started></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/kotlin-pretty/docs/api-reference/ class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">Api reference</a></li><ul><li class="collapse show" id=kotlin-pretty-docs-api-reference></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/kotlin-pretty/docs/annotations/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">How to use annotations</a></li><ul><li class=collapse id=kotlin-pretty-docs-annotations></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/kotlin-pretty/docs/limits/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Possible uses and limits</a></li><ul><li class=collapse id=kotlin-pretty-docs-limits></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/kotlin-pretty/docs/kotlin-pretty-ansi/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Ansi-color prettyprinter</a></li><ul><li class=collapse id=kotlin-pretty-docs-kotlin-pretty-ansi><a class="td-sidebar-link td-sidebar-link__page" id=m-kotlin-pretty-docs-kotlin-pretty-ansi-ansitutorial href=/kotlin-pretty/docs/kotlin-pretty-ansi/ansitutorial/>Tutorial</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-kotlin-pretty-docs-kotlin-pretty-ansi-ansireference href=/kotlin-pretty/docs/kotlin-pretty-ansi/ansireference/>Api reference</a></li></ul></ul></li></ul></ul></nav></div></div><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/1Jajen1/kotlin-pretty/edit/master/docs/content/en/docs/api-reference/_index.md target=_blank><i class="fa fa-edit fa-fw"></i>Edit this page</a>
<a href="https://github.com/1Jajen1/kotlin-pretty/issues/new?title=Api%20reference" target=_blank><i class="fab fa-github fa-fw"></i>Create documentation issue</a>
<a href=https://github.com/1Jajen1/kotlin-pretty/issues/new target=_blank><i class="fas fa-tasks fa-fw"></i>Create project issue</a></div><nav id=TableOfContents><ul><li><a href=#functions-on-doc>Functions on Doc</a><ul><li><a href=#basic>Basic</a></li><li><a href=#alignment>Alignment</a></li><li><a href=#binary-and-infix-functions>Binary and infix functions</a></li><li><a href=#list>List</a></li><li><a href=#others>Others</a></li><li><a href=#reactiveconditional-layouts>Reactive/conditional layouts</a></li><li><a href=#fillers>Fillers</a></li><li><a href=#convenience>Convenience</a></li><li><a href=#bracketing>Bracketing</a></li><li><a href=#named-characters>Named characters</a></li><li><a href=#annotations>Annotations</a></li><li><a href=#utiltity>Utiltity</a></li><li><a href=#optimization>Optimization</a></li></ul></li><li><a href=#operations-on-simpledoc>Operations on SimpleDoc</a><ul><li><a href=#layout>Layout</a></li><li><a href=#render>Render</a></li></ul></li></ul></nav></div><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=https://1jajen1.github.io/kotlin-pretty/docs/>Documentation</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://1jajen1.github.io/kotlin-pretty/docs/api-reference/>Api reference</a></li></ol></nav><div class=td-content><h1>Api reference</h1><div class=lead>A comprehensive reference of all methods that kotlin-pretty provides.</div><blockquote><p>This has been mostly adapted from <a href=https://hackage.haskell.org/package/prettyprinter-1.5.1/docs/Data-Text-Prettyprint-Doc.html>https://hackage.haskell.org/package/prettyprinter-1.5.1/docs/Data-Text-Prettyprint-Doc.html</a>.</p></blockquote><h2 id=functions-on-doc>Functions on Doc</h2><p>Lists functions that operator on and/or return a <code>Doc&lt;A></code></p><h3 id=basic>Basic</h3><p>Primitives and simple combinators to create and alter documents:</p><h6 id=fun-nil-docnothing><code>fun nil(): Doc&lt;Nothing></code></h6><p>Creates an empty document. The resulting document still has a height of 1. So in combination with e.g. <a href=#fun-a-listdocavcat-doca>vCat</a> it can still render as a newline.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin>listOf(<span style=color:#d14>&#34;hello&#34;</span>.text(), nil(), <span style=color:#d14>&#34;world&#34;</span>.text()).vCat()
<span style=color:#998;font-style:italic>// hello
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// 
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// world
</span></code></pre></div><hr><h6 id=fun-stringtext-docnothing><code>fun String.text(): Doc&lt;Nothing></code></h6><p>Create a document which contains the string as text.</p><blockquote><p>The string should never contain newlines as that would lead to unwanted behaviour. If it can contain newlines, use <a href=#fun-stringdoc-docnothing>doc</a> instead.</p></blockquote><hr><h6 id=fun-stringdoc-docnothing><code>fun String.doc(): Doc&lt;Nothing></code></h6><p>Create a document which contains the string as text and also handles newlines by replacing them with <code>hardLine()</code></p><hr><h6 id=fun-line-docnothing><code>fun line(): Doc&lt;Nothing></code></h6><p>This document advances the layout to the next line and sets the indentation to the current nesting level.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#d14>&#34;This is rendered in&#34;</span>.text() + line() + <span style=color:#d14>&#34;two lines&#34;</span>.text()
<span style=color:#998;font-style:italic>// This is rendered in
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// two lines
</span></code></pre></div><p>If inside a <a href=#fun-a-docagroup-doca>group</a> the newline can be undone and replaced by a space.</p><hr><h6 id=fun-linebreak-docnothing><code>fun lineBreak(): Doc&lt;Nothing></code></h6><p>This document advances the layout to the next line and sets the indentation to the current nesting level.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#d14>&#34;This is rendered in&#34;</span>.text() + lineBreak() + <span style=color:#d14>&#34;two lines&#34;</span>.text()
<span style=color:#998;font-style:italic>// This is rendered in
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// two lines
</span></code></pre></div><p>If inside a <a href=#fun-a-docagroup-doca>group</a> the newline can be undone and replaced by <a href=#fun-nil-docnothing>nil</a>.</p><hr><h6 id=fun-softline-docnothing><code>fun softLine(): Doc&lt;Nothing></code></h6><p>softLine behaves like a space if the layout fits, otherwise like a newline.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin>(<span style=color:#d14>&#34;This is rendered in&#34;</span>.text() + softLine() + <span style=color:#d14>&#34;one line&#34;</span>.text()).pretty(maxWidth = <span style=color:#099>80</span>)
<span style=color:#998;font-style:italic>// This is rendered in one line
</span></code></pre></div><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin>(<span style=color:#d14>&#34;This is rendered in&#34;</span>.text() + softLine() + <span style=color:#d14>&#34;two lines&#34;</span>.text()).pretty(maxWidth = <span style=color:#099>20</span>)
<span style=color:#998;font-style:italic>// This is rendered in
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// two lines
</span></code></pre></div><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin>softLine() == line().group()
</code></pre></div><hr><h6 id=fun-softlinebreak-docnothing><code>fun softLineBreak(): Doc&lt;Nothing></code></h6><p>softLineBreak behavious like <a href=#fun-nil-docnothing>nil</a> if the layout fits, otherwise like a newline.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin>(<span style=color:#d14>&#34;This is rendered in&#34;</span>.text() + softLineBreak() + <span style=color:#d14>&#34;one line&#34;</span>.text()).pretty(maxWidth = <span style=color:#099>80</span>)
<span style=color:#998;font-style:italic>// This is rendered inone line
</span></code></pre></div><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin>(<span style=color:#d14>&#34;This is rendered in&#34;</span>.text() + softLineBreak() + <span style=color:#d14>&#34;two lines&#34;</span>.text()).pretty(maxWidth = <span style=color:#099>20</span>)
<span style=color:#998;font-style:italic>// This is rendered in
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// two lines
</span></code></pre></div><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin>softLineBreak() == lineBreak().group()
</code></pre></div><hr><h6 id=fun-hardline-docnothing><code>fun hardLine(): Doc&lt;Nothing></code></h6><p>Insert a new line which cannot be flattened by <a href=#fun-a-docagroup-doca>group</a>.</p><hr><h6 id=fun-a-docanesti-int-doca><code>fun &lt;A> Doc&lt;A>.nest(i: Int): Doc&lt;A></code></h6><p>Change the layout of a document by increasing the indentation level (of the following lines) by <code>i</code>. Negative values are allowed and will decrease the nesting level.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin>listOf(listOf(<span style=color:#d14>&#34;Hello&#34;</span>.text(), <span style=color:#d14>&#34;World&#34;</span>.text()).vCat().nest(<span style=color:#099>4</span>), <span style=color:#d14>&#34;!&#34;</span>.text()).vCat()
<span style=color:#998;font-style:italic>// Hello
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>//     World
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// !
</span></code></pre></div><p>See also:</p><ul><li><a href=#fun-a-docahangi-int-doca>hang</a> nest relative to the current cursor position, instead of the current nesting level</li><li><a href=#fun-a-docaalign-doca>align</a> set nesting level to the current cursor position</li><li><a href=#fun-a-docaindenti-int-doca>indent</a> directly increase indentation padded with spaces</li></ul><hr><h6 id=fun-a-docagroup-doca><code>fun &lt;A> Doc&lt;A>.group(): Doc&lt;A></code></h6><p>Group tries to flatten a document to a single line. If this fails (on hardLine's) or does not fit, the document will be layed out unchanged. This function is the key to building adapting layouts.</p><p>See <a href=#fun-a-listdocavcat-doca>vCat</a>, <a href=#fun-a-docalineother-doca-doca>line</a>, <a href=#fun-a-docaflataltfallback-doca-doca>flatAlt</a> for examples.</p><hr><h6 id=fun-a-docaflataltfallback-doca-doca><code>fun &lt;A> Doc&lt;A>.flatAlt(fallback: Doc&lt;A>): Doc&lt;A></code></h6><p>Renders a document as is by default, but when inside a <a href=./#fun-a-docagroup-doca>group</a> it will render the <code>fallback</code>. TODO note on how fallbacks affect the rendering and what invariants it should hold.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin>line() == hardLine().flatAlt(space())
lineBreak() == hardLine().flatAlt(nil())
</code></pre></div><hr><h3 id=alignment>Alignment</h3><p>This section describes functions that can align their output relative to the current cursor position as opposed to <a href=#fun-a-docanesti-int-doca>nest</a> which always aligns to the current nesting level. This means that in terms of the Wadler-Leijen algorithm (which is what is used to layout the document), these functions do not produce an optimal result. They are however immensly useful in practice. Some of these functions are also more expensive to use at the top level, but should be fine in most cases.</p><h6 id=fun-a-docaalign-doca><code>fun &lt;A> Doc&lt;A>.align(): Doc&lt;A></code></h6><p>Align will lay out the document with the current nesting level set to the current column.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#d14>&#34;Hello&#34;</span>.text() spaced listOf(<span style=color:#d14>&#34;World&#34;</span>.text(), <span style=color:#d14>&#34;there&#34;</span>.text()).vSep()
<span style=color:#998;font-style:italic>// Hello World
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// there
</span></code></pre></div><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#d14>&#34;Hello&#34;</span>.text() spaced listOf(<span style=color:#d14>&#34;World&#34;</span>.text(), <span style=color:#d14>&#34;there&#34;</span>.text()).vSep().align()
<span style=color:#998;font-style:italic>// Hello World
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>//       there
</span></code></pre></div><hr><h6 id=fun-a-docahangi-int-doca><code>fun &lt;A> Doc&lt;A>.hang(i: Int): Doc&lt;A></code></h6><p>Hang lays out the document x with a nesting level set to the current column plus i. Negative values are allowed, and decrease the nesting level.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#000;font-weight:700>val</span> doc = <span style=color:#d14>&#34;Indenting these words with hang&#34;</span>.reflow()
(<span style=color:#d14>&#34;prefix&#34;</span>.text() spaced doc.hang(<span style=color:#099>4</span>)).pretty(maxWidth = <span style=color:#099>24</span>)
<span style=color:#998;font-style:italic>// prefix Indenting
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>//            these
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>//            words with
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>//            hang
</span></code></pre></div><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#000;font-weight:700>val</span> doc = <span style=color:#d14>&#34;Indenting these words with nest&#34;</span>.reflow()
(<span style=color:#d14>&#34;prefix&#34;</span>.text() spaced doc.nest(<span style=color:#099>4</span>)).pretty(maxWidth = <span style=color:#099>24</span>)
<span style=color:#998;font-style:italic>// prefix Indenting
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>//     these
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>//     words with
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>//     nest
</span></code></pre></div><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin>hang(i) == nest(i).align()
</code></pre></div><hr><h6 id=fun-a-docaindenti-int-doca><code>fun &lt;A> Doc&lt;A>.indent(i: Int): Doc&lt;A></code></h6><p>Indents the document with <code>i</code> spaces, starting from the current column.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#000;font-weight:700>val</span> doc = <span style=color:#d14>&#34;Indent these words using indent&#34;</span>.reflow()
(<span style=color:#d14>&#34;prefix&#34;</span>.text() spaced doc.indent(<span style=color:#099>4</span>)).pretty(maxWidth = <span style=color:#099>24</span>)
<span style=color:#998;font-style:italic>// prefix     Indent
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>//            these
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>//            words
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>//            using
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>//            indent
</span></code></pre></div><hr><h6 id=fun-a-listdocaenclosesepleft-doca-right-doca-sep-doca-doca><code>fun &lt;A> List&lt;Doc&lt;A>>.encloseSep(left: Doc&lt;A>, right: Doc&lt;A>, sep: Doc&lt;A>): Doc&lt;A></code></h6><p>Concatenate the documents between <code>left</code> and <code>right</code> and add <code>sep</code> in between.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#000;font-weight:700>val</span> encloseSep = <span style=color:#d14>&#34;list&#34;</span>.text() spaced listOf(<span style=color:#099>1.</span>doc(), <span style=color:#099>2.</span>doc(), <span style=color:#099>10.</span>doc(), <span style=color:#099>1698.</span>doc())
    .encloseSep(lBracket(), rBracket(), comma())
    .align()
encloseSep.pretty(maxWidth = <span style=color:#099>80</span>)
<span style=color:#998;font-style:italic>// list [1,2,10,1698]
</span></code></pre></div><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin>encloseSep.pretty(maxWidth = <span style=color:#099>10</span>)
<span style=color:#998;font-style:italic>// list [1
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>//      ,2
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>//      ,10
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>//      ,1698]
</span></code></pre></div><p>If you want to put the separator as a suffix, take a look at <a href=#fun-a-listdocapunctuatep-doca-listdoca>puncuate</a>.</p><hr><h6 id=fun-a-listdocalist-doca><code>fun &lt;A> List&lt;Doc&lt;A>>.list(): Doc&lt;A></code></h6><p>Variant of <a href=#fun-a-listdocaenclosesepleft-doca-right-doca-sep-doca-doca>encloseSep</a> for list-like output.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#000;font-weight:700>val</span> listDoc = listOf(<span style=color:#099>1.</span>doc(), <span style=color:#099>10.</span>doc(), <span style=color:#099>100.</span>doc(), <span style=color:#099>1000.</span>doc(), <span style=color:#099>10000.</span>doc()).list()
listDoc.pretty(maxWidth = <span style=color:#099>80</span>)
<span style=color:#998;font-style:italic>// [1, 10, 100, 1000, 10000]
</span></code></pre></div><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin>listDoc.pretty(maxWidth = <span style=color:#099>10</span>)
<span style=color:#998;font-style:italic>// [ 1
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// , 10
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// , 100
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// , 1000
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// , 10000] 
</span></code></pre></div><hr><h6 id=fun-a-listdocatupled-doca><code>fun &lt;A> List&lt;Doc&lt;A>>.tupled(): Doc&lt;A></code></h6><p>Variant of <a href=#fun-a-listdocaenclosesepleft-doca-right-doca-sep-doca-doca>encloseSep</a> for tuple-like output.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#000;font-weight:700>val</span> tupleDoc = listOf(<span style=color:#099>1.</span>doc(), <span style=color:#099>10.</span>doc(), <span style=color:#099>100.</span>doc(), <span style=color:#099>1000.</span>doc(), <span style=color:#099>10000.</span>doc()).tupled()
tupleDoc.pretty(maxWidth = <span style=color:#099>80</span>)
<span style=color:#998;font-style:italic>// (1, 10, 100, 1000, 10000)
</span></code></pre></div><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin>tupleDoc.pretty(maxWidth = <span style=color:#099>10</span>)
<span style=color:#998;font-style:italic>// ( 1
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// , 10
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// , 100
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// , 1000
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// , 10000) 
</span></code></pre></div><hr><h6 id=fun-a-listdocasemibraces-doca><code>fun &lt;A> List&lt;Doc&lt;A>>.semiBraces(): Doc&lt;A></code></h6><p>Variant of <a href=#fun-a-listdocaenclosesepleft-doca-right-doca-sep-doca-doca>encloseSep</a> for braced output.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#000;font-weight:700>val</span> bracedDoc = listOf(<span style=color:#099>1.</span>doc(), <span style=color:#099>10.</span>doc(), <span style=color:#099>100.</span>doc(), <span style=color:#099>1000.</span>doc(), <span style=color:#099>10000.</span>doc()).semiBraces()
bracedDoc.pretty(maxWidth = <span style=color:#099>80</span>)
<span style=color:#998;font-style:italic>// {1, 10, 100, 1000, 10000}
</span></code></pre></div><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin>bracedDoc.pretty(maxWidth = <span style=color:#099>10</span>)
<span style=color:#998;font-style:italic>// { 1
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// , 10
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// , 100
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// , 1000
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// , 10000} 
</span></code></pre></div><hr><h3 id=binary-and-infix-functions>Binary and infix functions</h3><h6 id=fun-a-docaplusother-doca-doca><code>fun &lt;A> Doc&lt;A>.plus(other: Doc&lt;A>): Doc&lt;A></code></h6><p>Concatenate two documents.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#d14>&#34;Hello&#34;</span>.text() + space() + <span style=color:#d14>&#34;world&#34;</span>.text()
<span style=color:#998;font-style:italic>// Hello world
</span></code></pre></div><hr><h6 id=fun-a-docaspacedother-doca-doca><code>fun &lt;A> Doc&lt;A>.spaced(other: Doc&lt;A>): Doc&lt;A></code></h6><p>Concatenate two documents with a space in between.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#d14>&#34;Hello&#34;</span>.text() spaced <span style=color:#d14>&#34;world&#34;</span>.text()
<span style=color:#998;font-style:italic>// Hello world
</span></code></pre></div><hr><h6 id=fun-a-docalineother-doca-doca><code>fun &lt;A> Doc&lt;A>.line(other: Doc&lt;A>): Doc&lt;A></code></h6><p>Concatenate two documents with a <a href=#fun-a-docalineother-doca-doca>line</a> in between.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#d14>&#34;Hello&#34;</span>.text() line <span style=color:#d14>&#34;world&#34;</span>.text()
<span style=color:#998;font-style:italic>// Hello
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// world
</span></code></pre></div><hr><h6 id=fun-a-docalinebreakother-doca-doca><code>fun &lt;A> Doc&lt;A>.lineBreak(other: Doc&lt;A>): Doc&lt;A></code></h6><p>Concatenate two documents with a <a href=#fun-linebreak-docnothing>lineBreak</a> in between.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#d14>&#34;Hello&#34;</span>.text() lineBreak <span style=color:#d14>&#34;world&#34;</span>.text()
<span style=color:#998;font-style:italic>// Hello
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// world
</span></code></pre></div><hr><h6 id=fun-a-docasoftlineother-doca-doca><code>fun &lt;A> Doc&lt;A>.softLine(other: Doc&lt;A>): Doc&lt;A></code></h6><p>Concatenate two documents with a <a href=#fun-softline-docnothing>softLine</a> in between.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#d14>&#34;Hello&#34;</span>.text() softLine <span style=color:#d14>&#34;world&#34;</span>.text()
<span style=color:#998;font-style:italic>// Hello world
</span></code></pre></div><hr><h6 id=fun-a-docasoftlinebreakother-doca-doca><code>fun &lt;A> Doc&lt;A>.softLineBreak(other: Doc&lt;A>): Doc&lt;A></code></h6><p>Concatenate two documents with a <a href=#fun-softlinebreak-docnothing>softLineBreak</a> in between.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#d14>&#34;Hello &#34;</span>.text() softLineBreak <span style=color:#d14>&#34;world&#34;</span>.text()
<span style=color:#998;font-style:italic>// Hello world
</span></code></pre></div><hr><h3 id=list>List</h3><p>These functions generalize working over lists of documents. They are separated into two families: <code>sep</code> and <code>cat</code> where <code>sep</code> uses <a href=#fun-a-docalineother-doca-doca>line</a> and <code>cat</code> uses <a href=#fun-linebreak-docnothing>lineBreak</a> to separate content.</p><h6 id=fun-a-listdocafolddocf-doca-doca---doca-doca><code>fun &lt;A> List&lt;Doc&lt;A>>.foldDoc(f: (Doc&lt;A>, Doc&lt;A>) -> Doc&lt;A>): Doc&lt;A></code></h6><p>Concatenate the documents in a list given a binary function <code>f</code>. Almost all other operators on lists are implemented using this function.</p><hr><h6 id=fun-f-a-kindf-docafolddocff-foldablef-f-doca-doca---doca-doca><code>fun &lt;F, A> Kind&lt;F, Doc&lt;A>>.foldDoc(FF: Foldable&lt;F>, f: (Doc&lt;A>, Doc&lt;A>) -> Doc&lt;A>): Doc&lt;A></code></h6><p>Kind polymorphic version of <a href=#fun-a-listdocafolddocf-doca-doca---doca-doca>foldDoc</a> that allows folding any foldable structure.</p><hr><h4 id=sep>Sep</h4><p>Functions from this list will use <a href=#fun-a-docalineother-doca-doca>line</a> to insert linebreaks. This means it when used with <a href=#fun-a-docagroup-doca>group</a> they will be replaced by spaces.</p><h6 id=fun-a-listdocahsep-doca><code>fun &lt;A> List&lt;Doc&lt;A>>.hSep(): Doc&lt;A></code></h6><p>Concatenate all documents using <a href=#fun-a-docaspacedother-doca-doca>spaced</a>. This never introduces newlines on its own.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#000;font-weight:700>val</span> hSepDoc = listOf(<span style=color:#d14>&#34;Hello&#34;</span>.text(), <span style=color:#d14>&#34;there!&#34;</span>.text(), <span style=color:#d14>&#34;- Kenobi&#34;</span>.text()).hSep()
hSepDoc.pretty(maxWidth = <span style=color:#099>80</span>)
<span style=color:#998;font-style:italic>// Hello there! - Kenobi
</span></code></pre></div><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin>hSepDoc.pretty(maxWidth = <span style=color:#099>10</span>)
<span style=color:#998;font-style:italic>// Hello there! - Kenobi
</span></code></pre></div><p>For a layout that automatically adds linebreaks, consider <a href=#fun-a-listdocafillsep-doca>fillSep</a> instead.</p><hr><h6 id=fun-a-listdocavsep-doca><code>fun &lt;A> List&lt;Doc&lt;A>>.vSep(): Doc&lt;A></code></h6><p>Concatenate all documents vertically using <a href=#fun-a-docalineother-doca-doca>line</a>.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#000;font-weight:700>val</span> vSepDoc = listOf(<span style=color:#d14>&#34;Text&#34;</span>.text(), <span style=color:#d14>&#34;to&#34;</span>.text(), <span style=color:#d14>&#34;lay&#34;</span>.text(), <span style=color:#d14>&#34;out&#34;</span>.text()).vSep()
<span style=color:#d14>&#34;prefix&#34;</span>.text() spaced vSepDoc
<span style=color:#998;font-style:italic>// prefix Text
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// to
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// lay
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// out
</span></code></pre></div><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#d14>&#34;prefix&#34;</span>.text() spaced vSepDoc.align()
<span style=color:#998;font-style:italic>// prefix Text
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>//        to
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>//        lay
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>//        out
</span></code></pre></div><p>Because later grouping a <code>vSep</code> is so common, <a href=#fun-a-listdocasep-doca>sep</a> is a built-in which does that.</p><hr><h6 id=fun-a-listdocafillsep-doca><code>fun &lt;A> List&lt;Doc&lt;A>>.fillSep(): Doc&lt;A></code></h6><p>Concatenate all documents with <a href=#fun-a-docasoftlineother-doca-doca>softLine</a>. The resulting document will be as wide as possible, but introduce newlines if it no longer fits.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#000;font-weight:700>val</span> fillSepDoc = listOf(
    <span style=color:#d14>&#34;Very&#34;</span>.text(), <span style=color:#d14>&#34;long&#34;</span>.text(), <span style=color:#d14>&#34;text&#34;</span>.text(),
    <span style=color:#d14>&#34;to&#34;</span>.text(), <span style=color:#d14>&#34;lay&#34;</span>.text(), <span style=color:#d14>&#34;out.&#34;</span>.text(),
    <span style=color:#d14>&#34;Hello&#34;</span>.text(), <span style=color:#d14>&#34;world&#34;</span>.text(), <span style=color:#d14>&#34;example!&#34;</span>.text()
).fillSep()
fillSepDoc.pretty(maxWidth = <span style=color:#099>80</span>)
<span style=color:#998;font-style:italic>// Very long text to lay out. Hello
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// world example!
</span></code></pre></div><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin>fillSepDoc.pretty(maxWidth = <span style=color:#099>40</span>)
<span style=color:#998;font-style:italic>// Very long text
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// to lay out.
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// Hello world
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// example!
</span></code></pre></div><hr><h6 id=fun-a-listdocasep-doca><code>fun &lt;A> List&lt;Doc&lt;A>>.sep(): Doc&lt;A></code></h6><p>Concatenate all documents with <a href=#fun-a-docasoftlineother-doca-doca>softLine</a>, but calls <a href=#fun-a-docagroup-doca>group</a> on the resulting document to flatten it. This is different from [vSep] because it tries to lay out horizontally first, instead of just vertically. This is also different from <a href=#fun-a-listdocafillsep-doca>fillSep</a>, because it will also flatten the individual documents instead of just the separator.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#000;font-weight:700>val</span> sepDoc = listOf(<span style=color:#d14>&#34;Text&#34;</span>.text() line <span style=color:#d14>&#34;that&#34;</span>.text(), <span style=color:#d14>&#34;spans&#34;</span>.text(), <span style=color:#d14>&#34;multiple&#34;</span>.text(), <span style=color:#d14>&#34;lines&#34;</span>.text()).sep()
sepDoc.pretty(maxWidth = <span style=color:#099>80</span>)
<span style=color:#998;font-style:italic>// Text that spans multiple lines
</span></code></pre></div><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin>sepDoc.pretty(maxWidth = <span style=color:#099>20</span>)
<span style=color:#998;font-style:italic>// Text
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// that
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// spans
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// multiple
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// lines
</span></code></pre></div><hr><h4 id=cat>Cat</h4><p>Functions from this list will use <a href=#fun-linebreak-docnothing>lineBreak</a> to insert linebreaks. This means it when used with <a href=#fun-a-docagroup-doca>group</a> they will be replaced by <a href=#fun-nil-docnothing>nil</a>.</p><h6 id=fun-a-listdocahcat-doca><code>fun &lt;A> List&lt;Doc&lt;A>>.hCat(): Doc&lt;A></code></h6><p>Concatenate all documents using <a href=#fun-a-docaplusother-doca-doca>plus</a>. This never introduces newlines on its own.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#000;font-weight:700>val</span> hCatDoc = listOf(<span style=color:#d14>&#34;Hello&#34;</span>.text(), <span style=color:#d14>&#34;there!&#34;</span>.text(), <span style=color:#d14>&#34;- Kenobi&#34;</span>.text()).hCat()
hCatDoc.pretty(maxWidth = <span style=color:#099>80</span>)
<span style=color:#998;font-style:italic>// Hellothere!- Kenobi
</span></code></pre></div><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin>hCatDoc.pretty(maxWidth = <span style=color:#099>10</span>)
<span style=color:#998;font-style:italic>// Hellothere!- Kenobi
</span></code></pre></div><p>For a layout that automatically adds linebreaks, consider <a href=#fun-a-listdocafillcat-doca>fillCat</a> instead.</p><hr><h6 id=fun-a-listdocavcat-doca><code>fun &lt;A> List&lt;Doc&lt;A>>.vCat(): Doc&lt;A></code></h6><p>Concatenate all documents vertically using <a href=#fun-a-docalinebreakother-doca-doca>lineBreak</a>.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#000;font-weight:700>val</span> vCatDoc = listOf(<span style=color:#d14>&#34;Text&#34;</span>.text(), <span style=color:#d14>&#34;to&#34;</span>.text(), <span style=color:#d14>&#34;lay&#34;</span>.text(), <span style=color:#d14>&#34;out&#34;</span>.text()).vCat()
<span style=color:#d14>&#34;prefix&#34;</span>.text() spaced vCatDoc
<span style=color:#998;font-style:italic>// prefix Text
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// to
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// lay
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// out
</span></code></pre></div><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#d14>&#34;prefix&#34;</span>.text() spaced vCatDoc.align()
<span style=color:#998;font-style:italic>// prefix Text
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>//        to
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>//        lay
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>//        out
</span></code></pre></div><p>Because later grouping a <code>vCat</code> is so common, <a href=(#fun-a-listdocacat-doca)>cat</a> is a built-in which does that.</p><hr><h6 id=fun-a-listdocafillcat-doca><code>fun &lt;A> List&lt;Doc&lt;A>>.fillCat(): Doc&lt;A></code></h6><p>Concatenate all documents with <a href=#fun-a-docasoftlinebreakother-doca-doca>softLineBreak</a>. The resulting document will be as wide as possible, but introduce newlines if it no longer fits.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#000;font-weight:700>val</span> fillCatDoc = listOf(
    <span style=color:#d14>&#34;Very&#34;</span>.text(), <span style=color:#d14>&#34;long&#34;</span>.text(), <span style=color:#d14>&#34;text&#34;</span>.text(),
    <span style=color:#d14>&#34;to&#34;</span>.text(), <span style=color:#d14>&#34;lay&#34;</span>.text(), <span style=color:#d14>&#34;out.&#34;</span>.text(),
    <span style=color:#d14>&#34;Hello&#34;</span>.text(), <span style=color:#d14>&#34;world&#34;</span>.text(), <span style=color:#d14>&#34;example!&#34;</span>.text()
).fillCat()
fillCatDoc.pretty(maxWidth = <span style=color:#099>80</span>)
<span style=color:#998;font-style:italic>// Verylongtexttolayout.Helloworld
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// example!
</span></code></pre></div><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin>fillCatDoc.pretty(maxWidth = <span style=color:#099>40</span>)
<span style=color:#998;font-style:italic>// Verylongtextto
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// layout.Hello
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// worldexample!
</span></code></pre></div><hr><h6 id=fun-a-listdocacat-doca><code>fun &lt;A> List&lt;Doc&lt;A>>.cat(): Doc&lt;A></code></h6><p>Concatenate all documents with <a href=#fun-a-docasoftlinebreakother-doca-doca>softLineBreak</a>, but calls <a href=#fun-a-docagroup-doca>group</a> on the resulting document to flatten it. This is different from <a href=#fun-a-listdocavcat-doca>vCat</a> because it tries to lay out horizontally first, instead of just vertically. This is also different from <a href=#fun-a-listdocafillcat-doca>fillCat</a>, because it will also flatten the individual documents instead of just the separator.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#000;font-weight:700>val</span> catDoc = listOf(<span style=color:#d14>&#34;Text&#34;</span>.text() line <span style=color:#d14>&#34;that&#34;</span>.text(), <span style=color:#d14>&#34;spans&#34;</span>.text(), <span style=color:#d14>&#34;multiple&#34;</span>.text(), <span style=color:#d14>&#34;lines&#34;</span>.text()).cat()
catDoc.pretty(maxWidth = <span style=color:#099>80</span>)
<span style=color:#998;font-style:italic>// Text thatspansmultiplelines
</span></code></pre></div><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin>catDoc.pretty(maxWidth = <span style=color:#099>20</span>)
<span style=color:#998;font-style:italic>// Text
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// that
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// spans
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// multiple
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// lines
</span></code></pre></div><hr><h3 id=others>Others</h3><h6 id=fun-a-listdocapunctuatep-doca-listdoca><code>fun &lt;A> List&lt;Doc&lt;A>>.punctuate(p: Doc&lt;A>): List&lt;Doc&lt;A>></code></h6><p>Append <code>p</code> to all but the last document.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#000;font-weight:700>val</span> punctuateDoc = listOf(<span style=color:#d14>&#34;Hello&#34;</span>.text(), <span style=color:#d14>&#34;world&#34;</span>.text(), <span style=color:#d14>&#34;example&#34;</span>.text())
    .punctuate(comma())
punctuateDoc.hSep().pretty(maxWidth = <span style=color:#099>80</span>)
<span style=color:#998;font-style:italic>// Hello, world, example
</span></code></pre></div><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin>punctuateDoc.vSep().pretty(maxWidth = <span style=color:#099>20</span>)
<span style=color:#998;font-style:italic>// Hello,
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// world,
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// example
</span></code></pre></div><p>If you want to but elements infront of the documents you should use <a href=#fun-a-listdocaenclosesepleft-doca-right-doca-sep-doca-doca>encloseSep</a>.</p><hr><h3 id=reactiveconditional-layouts>Reactive/conditional layouts</h3><p>Layout documents with access to context such as the current position, the available page width or the current nesting.</p><h6 id=fun-a-columnf-int---doca-doca><code>fun &lt;A> column(f: (Int) -> Doc&lt;A>): Doc&lt;A></code></h6><p>Layout a document with information on what the current column is. Used to implement <a href=#fun-a-docaalign-doca>align</a>.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin>column { c -&gt; <span style=color:#d14>&#34;Columns are&#34;</span>.text() spaced c.doc() + <span style=color:#d14>&#34;-based&#34;</span>.text() }
<span style=color:#998;font-style:italic>// Columns are 0-based
</span></code></pre></div><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#000;font-weight:700>val</span> colDoc = <span style=color:#d14>&#34;prefix&#34;</span>.text() spaced column { pipe() spaced <span style=color:#d14>&#34; &lt;- column&#34;</span>.text() spaced it.doc()  }
listOf(<span style=color:#099>0</span>, <span style=color:#099>4</span>, <span style=color:#099>8</span>).map { colDoc.indent(it) }.vSep()
<span style=color:#998;font-style:italic>// prefix |  &lt;- column 7
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>//     prefix |  &lt;- column 11
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>//         prefix |  &lt;- column 15
</span></code></pre></div><hr><h6 id=fun-a-nestingf-int---doca-doca><code>fun &lt;A> nesting(f: (Int) -> Doc&lt;A>): Doc&lt;A></code></h6><p>Layout a document with information on what the current nesting is. Used to implement <a href=#fun-a-docaalign-doca>align</a>.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#000;font-weight:700>val</span> nestingDoc = <span style=color:#d14>&#34;prefix&#34;</span>.text() spaced nesting { (<span style=color:#d14>&#34;Nested:&#34;</span>.text() spaced it.doc()).brackets() }
listOf(<span style=color:#099>0</span>, <span style=color:#099>4</span>, <span style=color:#099>8</span>).map { nestingDoc.indent(it) }.vSep()
<span style=color:#998;font-style:italic>// prefix [Nested: 0]
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>//     prefix [Nested: 4]
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>//         prefix [Nested: 8]
</span></code></pre></div><hr><h6 id=fun-a-docawidthf-int---doca-doca><code>fun &lt;A> Doc&lt;A>.width(f: (Int) -> Doc&lt;A>): Doc&lt;A></code></h6><p>Layout a document with information on what the current column width is.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#000;font-weight:700>fun</span> &lt;A&gt; <span style=color:#900;font-weight:700>annotate</span>(d: Doc&lt;A&gt;): Doc&lt;A&gt; = d.brackets().width { w -&gt; <span style=color:#d14>&#34; &lt;- width:&#34;</span>.text() spaced w.doc() }
listOf(
    <span style=color:#d14>&#34;---&#34;</span>.text(), <span style=color:#d14>&#34;------&#34;</span>.text(), <span style=color:#d14>&#34;---&#34;</span>.text().indent(<span style=color:#099>3</span>),
    listOf(<span style=color:#d14>&#34;---&#34;</span>.text(), <span style=color:#d14>&#34;---&#34;</span>.text().indent(<span style=color:#099>4</span>)).vSep()
).map(<span style=color:#000;font-weight:700>::</span>annotate).vSep().align()
<span style=color:#998;font-style:italic>// [---] &lt;- width: 5
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// [------] &lt;- width: 8
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// [   ---] &lt;- width: 8
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// [---
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>//     ---] &lt;- width: 8
</span></code></pre></div><hr><h6 id=fun-a-pagewidthf-pagewidth---doca-doca><code>fun &lt;A> pageWidth(f: (PageWidth) -> Doc&lt;A>): Doc&lt;A></code></h6><p>Layout a document with information on what the pagewidth settings are.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#000;font-weight:700>fun</span> <span style=color:#900;font-weight:700>PageWidth</span>.doc(): Doc&lt;Nothing&gt; = <span style=color:#000;font-weight:700>when</span> (<span style=color:#000;font-weight:700>this</span>) {
    PageWidth.Unbounded -&gt; <span style=color:#d14>&#34;Unbounded&#34;</span>.text()
    <span style=color:#000;font-weight:700>is</span> PageWidth.Available -&gt;
        <span style=color:#d14>&#34;Max width:&#34;</span>.text() spaced maxWidth.doc() spaced <span style=color:#d14>&#34;, ribbonFrac:&#34;</span>.text() spaced ribbonFract.doc()
}
<span style=color:#000;font-weight:700>val</span> _pwDoc = <span style=color:#d14>&#34;prefix&#34;</span>.text() spaced pageWidth { pw -&gt; pw.doc().brackets() }
<span style=color:#000;font-weight:700>val</span> pwDoc = listOf(<span style=color:#099>0</span>, <span style=color:#099>4</span>, <span style=color:#099>8</span>).map { _pwDoc.indent(it) }.vSep()
pwDoc.pretty(maxWidth = <span style=color:#099>32</span>)
<span style=color:#998;font-style:italic>// prefix [Max width: 32 , ribbonFrac: 0.4]
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>//     prefix [Max width: 32 , ribbonFrac: 0.4]
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>//         prefix [Max width: 32 , ribbonFrac: 0.4]
</span></code></pre></div><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin>pwDoc.layoutPretty(PageWidth.Unbounded).renderString()
<span style=color:#998;font-style:italic>// prefix [Unbounded]
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>//     prefix [Unbounded]
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>//         prefix [Unbounded]
</span></code></pre></div><hr><h3 id=fillers>Fillers</h3><p>Fill up available space.</p><h6 id=fun-a-docafilli-int-doca><code>fun &lt;A> Doc&lt;A>.fill(i: Int): Doc&lt;A></code></h6><p>Lay out a document and append spaces until it has a width of <code>i</code>.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#000;font-weight:700>val</span> types = listOf(<span style=color:#d14>&#34;empty&#34;</span> to <span style=color:#d14>&#34;Doc&#34;</span>, <span style=color:#d14>&#34;nest&#34;</span> to <span style=color:#d14>&#34;Int -&gt; Doc -&gt; Doc&#34;</span>, <span style=color:#d14>&#34;fillSep&#34;</span> to <span style=color:#d14>&#34;[Doc] -&gt; Doc&#34;</span>)
<span style=color:#d14>&#34;let&#34;</span>.text() spaced types.map { (n, tp) -&gt; n.text().fill(<span style=color:#099>5</span>) spaced <span style=color:#d14>&#34;::&#34;</span>.text() spaced tp.text() }
    .vCat().align()
<span style=color:#998;font-style:italic>// let empty :: Doc
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>//     nest  :: Int -&gt; Doc -&gt; Doc
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>//     fillSep :: [Doc] -&gt; Doc
</span></code></pre></div><hr><h6 id=fun-a-docafillbreaki-int-doca><code>fun &lt;A> Doc&lt;A>.fillBreak(i: Int): Doc&lt;A></code></h6><p>Lay out a document and append spaces until it has a width of <code>i</code> and insert a lineBreak if it exceeds the desired width.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#000;font-weight:700>val</span> types = listOf(<span style=color:#d14>&#34;empty&#34;</span> to <span style=color:#d14>&#34;Doc&#34;</span>, <span style=color:#d14>&#34;nest&#34;</span> to <span style=color:#d14>&#34;Int -&gt; Doc -&gt; Doc&#34;</span>, <span style=color:#d14>&#34;fillSep&#34;</span> to <span style=color:#d14>&#34;[Doc] -&gt; Doc&#34;</span>)
<span style=color:#d14>&#34;let&#34;</span>.text() spaced types.map { (n, tp) -&gt; n.text().fillBreak(<span style=color:#099>5</span>) spaced <span style=color:#d14>&#34;::&#34;</span>.text() spaced tp.text() }
    .vCat().align()
<span style=color:#998;font-style:italic>// let empty :: Doc
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>//     nest  :: Int -&gt; Doc -&gt; Doc
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>//     fillSep
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>//           :: [Doc] -&gt; Doc
</span></code></pre></div><hr><h3 id=convenience>Convenience</h3><h6 id=fun-a-docaenclosel-doca-r-doca-doca><code>fun &lt;A> Doc&lt;A>.enclose(l: Doc&lt;A>, r: Doc&lt;A>): Doc&lt;A></code></h6><p>Surround the document with <code>l</code> and <code>r</code>.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#d14>&#34;Hello&#34;</span>.text().enclose(<span style=color:#d14>&#34;_&#34;</span>.text(), <span style=color:#d14>&#34;_&#34;</span>.text())
<span style=color:#998;font-style:italic>// _Hello_
</span></code></pre></div><hr><h3 id=bracketing>Bracketing</h3><p>Common functions to enclose documents.</p><h4 id=ascii>ASCII</h4><h6 id=fun-a-docasquotes-doca><code>fun &lt;A> Doc&lt;A>.sQuotes(): Doc&lt;A></code></h6><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#d14>&#34;·&#34;</span>.text().sQuotes()
<span style=color:#998;font-style:italic>// &#39;·&#39;
</span></code></pre></div><hr><h6 id=fun-a-docadquotes-doca><code>fun &lt;A> Doc&lt;A>.dQuotes(): Doc&lt;A></code></h6><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#d14>&#34;·&#34;</span>.text().dQuotes()
<span style=color:#998;font-style:italic>// &#34;·&#34;
</span></code></pre></div><hr><h6 id=fun-a-docaparens-doca><code>fun &lt;A> Doc&lt;A>.parens(): Doc&lt;A></code></h6><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#d14>&#34;·&#34;</span>.text().parens()
<span style=color:#998;font-style:italic>// (·)
</span></code></pre></div><hr><h6 id=fun-a-docaangles-doca><code>fun &lt;A> Doc&lt;A>.angles(): Doc&lt;A></code></h6><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#d14>&#34;·&#34;</span>.text().angles()
<span style=color:#998;font-style:italic>// &lt;·&gt;
</span></code></pre></div><hr><h6 id=fun-a-docabraces-doca><code>fun &lt;A> Doc&lt;A>.braces(): Doc&lt;A></code></h6><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#d14>&#34;·&#34;</span>.text().braces()
<span style=color:#998;font-style:italic>// {·}
</span></code></pre></div><hr><h6 id=fun-a-docabrackets-doca><code>fun &lt;A> Doc&lt;A>.brackets(): Doc&lt;A></code></h6><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#d14>&#34;·&#34;</span>.text().brackets()
<span style=color:#998;font-style:italic>// [·]
</span></code></pre></div><hr><h4 id=unicode>Unicode</h4><h6 id=fun-a-docad9966quotes-doca><code>fun &lt;A> Doc&lt;A>.d9966quotes(): Doc&lt;A></code></h6><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#d14>&#34;·&#34;</span>.text().d9966quotes()
<span style=color:#998;font-style:italic>// „·“
</span></code></pre></div><hr><h6 id=fun-a-docad6699quotes-doca><code>fun &lt;A> Doc&lt;A>.d6699quotes(): Doc&lt;A></code></h6><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#d14>&#34;·&#34;</span>.text().d6699quotes()
<span style=color:#998;font-style:italic>// “·”
</span></code></pre></div><hr><h6 id=fun-a-docas96quotes-doca><code>fun &lt;A> Doc&lt;A>.s96quotes(): Doc&lt;A></code></h6><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#d14>&#34;·&#34;</span>.text().s96quotes()
<span style=color:#998;font-style:italic>// ‚·‘
</span></code></pre></div><hr><h6 id=fun-a-docas69quotes-doca><code>fun &lt;A> Doc&lt;A>.s69quotes(): Doc&lt;A></code></h6><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#d14>&#34;·&#34;</span>.text().s69quotes()
<span style=color:#998;font-style:italic>// ‘·’
</span></code></pre></div><hr><h6 id=fun-a-docadguillemetsout-doca><code>fun &lt;A> Doc&lt;A>.dGuillemetsOut(): Doc&lt;A></code></h6><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#d14>&#34;·&#34;</span>.text().dGuillemetsOut()
<span style=color:#998;font-style:italic>// «·»
</span></code></pre></div><hr><h6 id=fun-a-docadguillemetsin-doca><code>fun &lt;A> Doc&lt;A>.dGuillemetsIn(): Doc&lt;A></code></h6><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#d14>&#34;·&#34;</span>.text().dGuillemetsIn()
<span style=color:#998;font-style:italic>// »·«
</span></code></pre></div><hr><h6 id=fun-a-docasguillemetsout-doca><code>fun &lt;A> Doc&lt;A>.sGuillemetsOut(): Doc&lt;A></code></h6><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#d14>&#34;·&#34;</span>.text().sGuillemetsOut()
<span style=color:#998;font-style:italic>// ‹·›
</span></code></pre></div><hr><h6 id=fun-a-docasguillemetsin-doca><code>fun &lt;A> Doc&lt;A>.sGuillemetsIn(): Doc&lt;A></code></h6><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#d14>&#34;·&#34;</span>.text().sGuillemetsIn()
<span style=color:#998;font-style:italic>// ›·‹
</span></code></pre></div><hr><h3 id=named-characters>Named characters</h3><p>Some constants for ascii and unicode characters</p><h4 id=ascii-1>ASCII</h4><p>Constants for ASCII characters can be found <a href=https://github.com/1Jajen1/kotlin-pretty/blob/master/kotlin-pretty/src/main/kotlin/pretty/symbols/Ascii.kt>here</a>.</p><h4 id=unicode-1>Unicode</h4><p>Constants for uncode characters can be found <a href=https://github.com/1Jajen1/kotlin-pretty/blob/master/kotlin-pretty/src/main/kotlin/pretty/symbols/Unicode.kt>here</a>.</p><h3 id=annotations>Annotations</h3><p>Combinators that deal with annotations. Learn more about annotations <a href=https://1jajen1.github.io/kotlin-pretty/docs/annotations/>here</a>.</p><h6 id=fun-a-docaannotatea-a-doca><code>fun &lt;A> Doc&lt;A>.annotate(a: A): Doc&lt;A></code></h6><p>Add an annotation to a document. This can be used to supply additional context to the renderer, e.g. color. This is only relevant for documents that are rendered with a custom renderer. <a href=#fun-simpledocarenderstring-string>renderString</a> and derivates will ignore annotations.</p><hr><h6 id=fun-a-docaunannotate-docnothing><code>fun &lt;A> Doc&lt;A>.unAnnotate(): Doc&lt;Nothing></code></h6><p>Remove annotations from a document.</p><hr><h6 id=fun-a-b-docareannotatef-a---b-docb><code>fun &lt;A, B> Doc&lt;A>.reAnnotate(f: (A) -> B): Doc&lt;B></code></h6><p>Alter annotations of a document.</p><hr><h6 id=fun-a-b-docaalterannotationsf-a---listb-docb><code>fun &lt;A, B> Doc&lt;A>.alterAnnotations(f: (A) -> List&lt;B>): Doc&lt;B></code></h6><p>Alter annotations of a document with the ability to either remove the annotation or add one or more annotations to the document.</p><p>&ndash;</p><h3 id=utiltity>Utiltity</h3><h6 id=fun-stringwords-listdocnothing><code>fun String.words(): List&lt;Doc&lt;Nothing>></code></h6><p>Split a string into single words and convert them to <code>Doc</code> using <a href=#fun-stringdoc-docnothing>doc</a>.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#d14>&#34;Hello world string&#34;</span>.words().vSep()
<span style=color:#998;font-style:italic>// Hello
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// world
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// string
</span></code></pre></div><hr><h6 id=fun-stringreflow-docnothing><code>fun String.reflow(): Doc&lt;Nothing></code></h6><p>Replace spaces in a string with <a href=#fun-softline-docnothing>softLine</a>. This attempts to lay out the string as wide as possible, but introduces newlines when it exceeds max-width.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#d14>&#34;Hello world string that is slightly longer than normal&#34;</span>.reflow()
<span style=color:#998;font-style:italic>// Hello world string that is
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// slightly longer than normal
</span></code></pre></div><hr><h3 id=optimization>Optimization</h3><h6 id=fun-a-docafuseshallow-boolean-doca><code>fun &lt;A> Doc&lt;A>.fuse(shallow: Boolean): Doc&lt;A></code></h6><p>Fuse text nodes in a document if possible. If you document consists of many <code>"H".text() + "E".text() ...</code> operations, this will attempt to fuse the text together to reduce the overhead for the layout algorithm. If you use deep fusion <code>shallow => false</code>, this will also try to fuse documents returned by [column], [nesting] and [pageWidth]. A fused document is always equal to an unfused on when rendered. Benchmark your code to see if this benefits you or not!</p><hr><h2 id=operations-on-simpledoc>Operations on SimpleDoc</h2><p>Operations that use <code>SimpleDoc</code> instead of <code>Doc</code>. To learn more about <code>SimpleDoc</code> go <a href=TODO>here</a>.</p><h3 id=layout>Layout</h3><h6 id=fun-docalayoutprettypw-pagewidth-simpledoca><code>fun Doc&lt;A>.layoutPretty(pw: PageWidth): SimpleDoc&lt;A></code></h6><p>The default layout algorithm which calculates a layout for a document.</p><hr><h6 id=fun-docalayoutsmartpw-pagewidth-simpledoca><code>fun Doc&lt;A>.layoutSmart(pw: PageWidth): SimpleDoc&lt;A></code></h6><p>A layout algorithm which uses more lookahead than <a href=#fun-docalayoutprettypw-pagewidth-simpledoca>layoutPretty</a>. It is slightly slower, but can produce nicer results.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#000;font-weight:700>fun</span> &lt;A&gt; <span style=color:#900;font-weight:700>Doc</span>&lt;A&gt;.f(): Doc&lt;A&gt; = ((<span style=color:#d14>&#34;fun(&#34;</span>.text() softLineBreak <span style=color:#000;font-weight:700>this</span>) + rParen()).hang(<span style=color:#099>2</span>)
<span style=color:#000;font-weight:700>val</span> lSmartDoc = listOf(<span style=color:#d14>&#34;exempli&#34;</span>.text(), <span style=color:#d14>&#34;gratia&#34;</span>.text()).list().align().f().f().f().f().f()
<span style=color:#000;font-weight:700>val</span> hr = pipe() + <span style=color:#d14>&#34;------------------------&#34;</span>.text() + pipe()
listOf(hr, lSmartDoc, hr).vSep().layoutPretty(PageWidth.Available(<span style=color:#099>26</span>, <span style=color:#099>1F</span>)).renderString()
<span style=color:#998;font-style:italic>// |------------------------|
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// fun(fun(fun(fun(fun(
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>//                   [ exempli
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>//                   , gratia] )))))
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// |------------------------|
</span></code></pre></div><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin>listOf(hr, lSmartDoc, hr).vSep().layoutSmart(PageWidth.Available(<span style=color:#099>26</span>, <span style=color:#099>1F</span>)).renderString()
<span style=color:#998;font-style:italic>// |------------------------|
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// fun(
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>//   fun(
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>//     fun(
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>//       fun(
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>//         fun(
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>//           [ exempli
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>//           , gratia] )))))
</span><span style=color:#998;font-style:italic></span><span style=color:#998;font-style:italic>// |------------------------|
</span></code></pre></div><hr><h6 id=fun-docalayoutcompact-simpledoca><code>fun Doc&lt;A>.layoutCompact(): SimpleDoc&lt;A></code></h6><p>A very simple layout algorithm that lays out a document with no extra newlines or indentation. This is useful to render into machine-readable formats.</p><hr><h3 id=render>Render</h3><h6 id=fun-simpledocarenderstring-string><code>fun SimpleDoc&lt;A>.renderString(): String</code></h6><p>Render a simple doc as a string. Ignores annotations.</p><hr><h6 id=fun-a-b-simpledocarenderdecoratedempty-b-combine-b-b---b-fromstring-string---b-annotate-a-b---b-b><code>fun &lt;A, B> SimpleDoc&lt;A>.renderDecorated(empty: B, combine: (B, B) -> B, fromString: (String) -> B, annotate: (A, B) -> B): B</code></h6><p>Helper to implement basic renders that handle annotations.</p><p>For example <a href=#fun-simpledocarenderstring-string>renderString</a> is defined as:</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#000;font-weight:700>fun</span> &lt;A&gt; <span style=color:#900;font-weight:700>SimpleDoc</span>&lt;A&gt;.renderString(): String =
    renderDecorated(
        empty = <span style=color:#d14>&#34;&#34;</span>,
        combine = { a, b -&gt; a + b },
        fromString = { it },
        annotate = { ann, str -&gt; str }
    )
</code></pre></div><div class=section-index><hr class=panel-line></div><div class="text-muted mt-5 pt-3 border-top">Last modified January 14, 2020</div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Kotlin pretty github repo" aria-label="Kotlin pretty github repo"><a class=text-white target=_blank href=https://github.com/1Jajen1/kotlin-pretty><i class="fab fa-github"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2021 The Kotlin-pretty authors All Rights Reserved</small></div></div></div></footer></div><script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js integrity=sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49 crossorigin=anonymous></script><script src=https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js integrity=sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy crossorigin=anonymous></script><script src=/kotlin-pretty/js/main.min.fb171e2aab14bb7977e34cb898504671ef756ff08ec86b36b384686efa8d99ad.js integrity="sha256-+xceKqsUu3l340y4mFBGce91b/COyGs2s4RobvqNma0=" crossorigin=anonymous></script></body></html>